language: node_js
node_js:
   - "6.10.0"
sudo: false

branches:
  only:
    - master
    - dev
    - e2eCasper

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/562a1703af6080a4abb8
    on_success: always  # options: [always|never|change] default: always
    on_failure: always  # options: [always|never|change] default: always
    on_start: always     # options: [always|never|change] default: always

before_script:
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start

before_install:
  - if [[ `npm -v` != 3* ]]; then npm i -g npm@3; fi

install:
  - npm install
  - npm install aurelia-cli -g
  - npm install casperjs -g

#
# script:
#   - if [ "$TRAVIS_BRANCH" = "dev" ]; then export DEP=rm && npm run lint && npm run build-dev; fi
#
# deploy:
#
#   - provider: s3
#     access_key_id: $AWS_ACCESS_KEY_ID
#     secret_access_key: $AWS_SECRET_ACCESS_KEY
#     bucket: $AWS_S3_BUCKET_RISKMAP_IN
#     region: $AWS_S3_BUCKET_REGION_RISKMAP_IN
#     skip_cleanup: true
#     local_dir: dist/dev-in
#     on:
#       branch: dev
